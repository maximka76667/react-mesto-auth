{"version":3,"sources":["images/close-icon.svg","components/Header.js","images/menu-icon.png","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/RemovePopup.js","images/fail-icon.svg","images/success-icon.svg","components/InfoTooltip.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","location","useLocation","React","useState","isMenuOpen","setIsMenuOpen","isMenuAllowed","setIsMenuAllowed","toggleMenu","checkResize","window","innerWidth","handleLogoutClick","onLogout","useEffect","addEventListener","className","email","to","onClick","href","rel","target","pathname","src","close","alt","Footer","currentYear","Date","getFullYear","CurrentUserContext","createContext","Card","card","onCardLike","onCardDelete","currentUser","useContext","isOwner","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","link","name","type","length","Main","cards","onEditAvatar","avatar","onEditProfile","about","onAddPlace","map","onCardClick","ImagePopup","isOpen","onClose","api","baseUrl","authorization","this","_baseUrl","_token","res","ok","json","Promise","reject","status","fetch","headers","then","_checkResponse","data","method","body","JSON","stringify","cardId","avatarLink","PopupWithForm","isLoading","title","onSubmit","submitText","children","isSubmitValid","buttonClassName","noValidate","disabled","EditProfilePopup","onUpdateUser","setName","description","setDescription","nameError","setNameError","descriptionError","setDescriptionError","isNameError","setIsNameError","isDescriptionError","setIsDescriptionError","setIsSubmitValid","nameInputClassName","descriptionInputClassName","nameErrorClassName","descriptionErrorClassName","handleValidation","e","inputElement","validity","valid","validationMessage","preventDefault","id","placeholder","minLength","maxLength","required","value","onChange","EditAvatarPopup","onUpdateAvatar","setAvatar","error","setError","isError","setIsError","inputClassName","errorClassName","AddPlacePopup","setLink","linkError","setLinkError","isLinkError","setIsLinkError","linkInputClassName","linkErrorClassName","RemovePopup","InfoTooltip","result","success","fail","withRouter","setEmail","password","setPassword","onRegister","login","setLogin","onLogin","ProtectedRoute","Component","component","loggedIn","auth","token","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isRemovePopupOpen","setIsRemovePopupOpen","isImagePopupOpen","setIsImagePopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","setIsLoading","setCards","selectedCard","setSelectedCard","setLoggedIn","loginResult","setLoginResult","isAnyPopupOpen","closeAllPopups","handleAuth","getEmail","localStorage","setItem","history","push","catch","err","handleError","console","log","getItem","getProfileInfo","getInitialCards","Provider","tabIndex","onKeyDown","keyCode","path","removeItem","register","exact","changeLikeCardStatus","newCard","state","c","setProfileInfo","finally","addPlace","changeAvatar","removeCard","cardList","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.797577cb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/close-icon.2ceb783a.svg\";","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useLocation } from 'react-router-dom'\r\nimport menu from '../images/menu-icon.png'\r\nimport close from '../images/close-icon.svg'\r\n\r\nfunction Header(props) {\r\n  const location = useLocation();\r\n\r\n  const [isMenuOpen, setIsMenuOpen] = React.useState(false);\r\n  const [isMenuAllowed, setIsMenuAllowed] = React.useState(false);\r\n\r\n  function toggleMenu() {\r\n    if(isMenuOpen) {\r\n      setIsMenuOpen(false);\r\n    } else {\r\n      setIsMenuOpen(true);\r\n    }\r\n  }\r\n\r\n  function checkResize() {\r\n    if(window.innerWidth < 500) {\r\n      setIsMenuAllowed(true);\r\n    } else {\r\n      setIsMenuAllowed(false);\r\n      setIsMenuOpen(false);\r\n    }\r\n  }\r\n\r\n  function handleLogoutClick() {\r\n    setIsMenuOpen(false);\r\n    props.onLogout();\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    window.addEventListener(\"resize\", checkResize);\r\n    checkResize();\r\n  }, [])\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className={`header__menu ${isMenuOpen ? 'header__menu_opened' : ''}`}>\r\n        <p className=\"header__login\">{props.email}</p>\r\n        <Link to=\"/sign-in\" className=\"header__link header__link_logged-in\" onClick={handleLogoutClick}>Выйти</Link>\r\n      </div>\r\n      <div className=\"header__container\">\r\n        <a href=\"/\" className=\"logo\" rel=\"noreferrer\" target=\"_blank\"> </a>\r\n        { (() => {\r\n          switch (location.pathname) {\r\n            case '/sign-in':\r\n              return <Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>\r\n\r\n            case '/sign-up':\r\n              return <Link to=\"/sign-in\" className=\"header__link\">Войти</Link>\r\n\r\n            case '/':\r\n              return (\r\n                <>\r\n                  <p className={`header__login ${isMenuAllowed ? 'header__login_hidden' : ''}`}>{props.email}</p>\r\n                  <Link to=\"/sign-in\" className={`header__link header__link_logged-in ${isMenuAllowed ? 'header__link_hidden' : ''}`} onClick={handleLogoutClick}>Выйти</Link>\r\n                  <button className=\"header__menu-button\" onClick={toggleMenu}>\r\n                    <img src={isMenuOpen ? close : menu} alt=\"Меню\" />\r\n                  </button>\r\n                </>\r\n              )\r\n\r\n            default:\r\n              return <Link to=\"/\" className=\"header__link\">Ссылка</Link>\r\n          }\r\n        })()\r\n        }\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAVCAYAAABc6S4mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAqSURBVHgB7dMxEQAACMPAFv+eAQcMXLe8gUxxLwWVwuIB4M+MBuQx2mkAhA8MBFFMCNUAAAAASUVORK5CYII=\"","export default function Footer() {\r\n  const currentYear = new Date().getFullYear();\r\n\r\n  return (\r\n    <footer className=\"footer\">\r\n      <div className=\"footer__container\">\r\n        <p className=\"footer__copyright\">© {currentYear}. Максим Гривенный</p>\r\n      </div>\r\n    </footer>\r\n  )\r\n}","import React from 'react'\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from 'react'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\nexport default function Card({ card, onClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwner = card.owner._id === currentUser._id;\r\n\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `card__like-button ${isLiked ? 'card__like-button_active' : 'card__like-button_disabled'}`\r\n  );\r\n\r\n  function handleClick() {\r\n    onClick(card)\r\n  }\r\n\r\n  function handleCardLike() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"card\">\r\n      <div className=\"card__image-container\">\r\n        <img src={card.link} alt={card.name} className=\"card__image\" onClick={handleClick} />\r\n      </div>\r\n      { isOwner ? <button className='card__delete-button' onClick={handleCardDelete}></button> : null}\r\n      <div className=\"card__info\">\r\n        <h2 className=\"card__title\">{card.name}</h2>\r\n        <div className=\"card__like\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleCardLike} ></button>\r\n          <p className=\"card__likes-count\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  )\r\n}","import React from 'react'\r\nimport Card from './Card'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\nexport default function Main(props) {\r\n\r\n  const cards = props.cards;\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <div className=\"profile\">\r\n        <div className=\"profile__container\">\r\n          <div className=\"profile__avatar\" onClick={props.onEditAvatar}>\r\n            <img\r\n              src={currentUser.avatar}\r\n              className=\"profile__avatar-image\"\r\n              alt=\"Аватар профиля\"\r\n            />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button>\r\n            <p className=\"profile__description\">{currentUser.about}</p>\r\n          </div>\r\n          <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\r\n        </div>\r\n      </div>\r\n      <div className=\"cards\">\r\n        <div className=\"cards__container\">\r\n          {\r\n            cards.map((card) => {\r\n              return (\r\n                <Card\r\n                  key={card._id}\r\n                  card={card}\r\n                  onClick={props.onCardClick}\r\n                  onCardLike={props.onCardLike}\r\n                  onCardDelete={props.onCardDelete}\r\n                />\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n    </main>\r\n  )\r\n}","export default function ImagePopup({ card, isOpen, onClose }) {\r\n  return(\r\n    <div className={`popup popup_type_image ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__overlay popup__overlay_type_image\" onClick={onClose}></div>\r\n      <div className=\"popup__container popup__container_type_image\">\r\n        <img src={card?.link} alt={card?.name} className=\"popup__image\" />\r\n        <h2 className=\"popup__title popup__title_type_image\">{card ? card.name : ''}</h2>\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}","class Api {\r\n  constructor({ baseUrl, authorization }) {\r\n    this._baseUrl = baseUrl;\r\n    this._token = authorization;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  setProfileInfo(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  getProfileInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json',\r\n      },\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  addPlace(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  removeCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: isLiked ? 'DELETE' : 'PUT',\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  changeAvatar(avatarLink) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatarLink,\r\n      }),\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-22',\r\n  authorization: '6e0d021d-4f3f-452d-8c82-5a27e9592d29'\r\n});\r\n\r\nexport default api;","import React from 'react'\r\n\r\nexport default function PopupWithForm({ isOpen, isLoading, name, title, onSubmit, submitText, onClose, children, isSubmitValid }) {\r\n  const buttonClassName = (\r\n    `popup__submit-button ${!isSubmitValid ? 'popup__submit-button_disabled' : ''}`\r\n  );\r\n\r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__overlay popup__overlay_type_remove\" onClick={onClose}></div>\r\n      <div className=\"popup__container popup__container_type_remove\">\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit} noValidate>\r\n          {children}\r\n          <button className={buttonClassName} type=\"submit\" disabled={!isSubmitValid}>{ isLoading ? 'Загрузка...' : submitText }</button>\r\n        </form>\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nexport default function EditProfilePopup({ isOpen, isLoading, onClose, onUpdateUser }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  // Validation Constants\r\n  const [nameError, setNameError] = React.useState('');\r\n  const [descriptionError, setDescriptionError] = React.useState('');\r\n  const [isNameError, setIsNameError] = React.useState(false);\r\n  const [isDescriptionError, setIsDescriptionError] = React.useState(false);\r\n  const [isSubmitValid, setIsSubmitValid] = React.useState(false);\r\n\r\n  // ClassNames\r\n  const nameInputClassName = (\r\n    `popup__input ${isNameError ? 'popup__input_type_error' : ''}`\r\n  );\r\n\r\n  const descriptionInputClassName = (\r\n    `popup__input ${isDescriptionError ? 'popup__input_type_error' : ''}`\r\n  );\r\n\r\n  const nameErrorClassName = (\r\n    `popup__error ${isNameError ? 'popup__error_visible' : ''}`\r\n  );\r\n\r\n  const descriptionErrorClassName = (\r\n    `popup__error ${isDescriptionError ? 'popup__error_visible' : ''}`\r\n  );\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    \r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  function handleValidation(e) {\r\n    const inputElement = e.target;\r\n\r\n    switch(inputElement.name) {\r\n      case 'profileName' : {\r\n        if(!inputElement.validity.valid) {\r\n          setIsNameError(true);\r\n          setNameError(inputElement.validationMessage);\r\n          setIsSubmitValid(false);\r\n        } else {\r\n          setIsNameError(false);\r\n          setNameError('');\r\n          setIsSubmitValid(true);\r\n        }\r\n        break;\r\n      }\r\n      case 'profilePosition' : {\r\n        if(!inputElement.validity.valid) {\r\n          setIsDescriptionError(true);\r\n          setDescriptionError(inputElement.validationMessage);\r\n          setIsSubmitValid(false);\r\n        } else {\r\n          setIsDescriptionError(false);\r\n          setDescriptionError('');\r\n          setIsSubmitValid(true);\r\n        }\r\n        break;\r\n      }\r\n      default: {}\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [isOpen, currentUser]);\r\n\r\n  React.useEffect(() => {\r\n    setIsNameError(false);\r\n    setIsDescriptionError(false);\r\n    setIsSubmitValid(true);\r\n    setNameError('');\r\n    setDescriptionError('');\r\n  }, [isOpen])\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" submitText=\"Сохранить\" isOpen={isOpen} isLoading={isLoading} isSubmitValid={isSubmitValid} onClose={onClose} onSubmit={handleSubmit} >\r\n      <input\r\n        className={nameInputClassName}\r\n        type=\"text\"\r\n        name=\"profileName\"\r\n        id=\"profileName\"\r\n        placeholder=\"Ваше имя\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        required\r\n        value={`${name}`}\r\n        onChange={handleChangeName}\r\n      />\r\n      <span className={nameErrorClassName}>{ isNameError && nameError }</span>\r\n      <input\r\n        className={descriptionInputClassName}\r\n        type=\"text\"\r\n        name=\"profilePosition\"\r\n        id=\"profilePosition\"\r\n        placeholder=\"Ваша должность\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        required\r\n        value={`${description}`}\r\n        onChange={handleChangeDescription}\r\n      />\r\n      <span className={descriptionErrorClassName}>{ isDescriptionError && descriptionError }</span>\r\n    </PopupWithForm>\r\n  )\r\n}","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nexport default function EditAvatarPopup({ isOpen, isLoading, onClose, onUpdateAvatar }) {\r\n\r\n  const [avatar, setAvatar] = React.useState('');\r\n\r\n  // Validation Constants\r\n  const [error, setError] = React.useState('');\r\n  const [isError, setIsError] = React.useState(false);\r\n  const [isSubmitValid, setIsSubmitValid] = React.useState(false);\r\n\r\n  const inputClassName = (\r\n    `popup__input ${isError ? 'popup__input_type_error' : ''}`\r\n  );\r\n\r\n  const errorClassName = (\r\n    `popup__error ${isError ? 'popup__error_visible' : ''}`\r\n  );\r\n\r\n  function handleUpdateAvatar(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatar: avatar\r\n    });\r\n  }\r\n\r\n  function handleChangeAvatar(e) {\r\n    setAvatar(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleValidation(e) {\r\n    const inputElement = e.target;\r\n\r\n    if (!inputElement.validity.valid) {\r\n      setIsError(true);\r\n      setError(inputElement.validationMessage);\r\n      setIsSubmitValid(false);\r\n    } else {\r\n      setIsError(false);\r\n      setError('');\r\n      setIsSubmitValid(true);\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setIsError(false);\r\n    setIsSubmitValid(false);\r\n    setError('');\r\n    setAvatar('');\r\n  }, [isOpen])\r\n\r\n  return (\r\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={isOpen} isLoading={isLoading} isSubmitValid={isSubmitValid} onClose={onClose} onSubmit={handleUpdateAvatar} submitText=\"Сохранить\">\r\n      <input\r\n        className={inputClassName}\r\n        type=\"url\"\r\n        name=\"avatarLink\"\r\n        id=\"avatarLink\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        minLength=\"2\"\r\n        required\r\n        onChange={handleChangeAvatar}\r\n        value={avatar}\r\n      />\r\n      <span className={errorClassName} id=\"avatarLink-error\">{isError ? error : ''}</span>\r\n    </PopupWithForm>\r\n  )\r\n}","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nexport default function AddPlacePopup({ isOpen, isLoading, onClose, onAddPlace }) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  // Validation Constants\r\n  const [nameError, setNameError] = React.useState('');\r\n  const [linkError, setLinkError] = React.useState('');\r\n  const [isNameError, setIsNameError] = React.useState(false);\r\n  const [isLinkError, setIsLinkError] = React.useState(false);\r\n  const [isSubmitValid, setIsSubmitValid] = React.useState(false);\r\n\r\n  // ClassNames\r\n  const nameInputClassName = (\r\n    `popup__input ${isNameError ? 'popup__input_type_error' : ''}`\r\n  );\r\n\r\n  const linkInputClassName = (\r\n    `popup__input ${isLinkError ? 'popup__input_type_error' : ''}`\r\n  );\r\n\r\n  const nameErrorClassName = (\r\n    `popup__error ${isNameError ? 'popup__error_visible' : ''}`\r\n  );\r\n\r\n  const linkErrorClassName = (\r\n    `popup__error ${isLinkError ? 'popup__error_visible' : ''}`\r\n  );\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleAddPlaceSubmit(e) {\r\n    e.preventDefault();\r\n    \r\n    onAddPlace({\r\n      name,\r\n      link\r\n    })\r\n  }\r\n\r\n  function handleValidation(e) {\r\n    const inputElement = e.target;\r\n\r\n    switch(inputElement.name) {\r\n      case 'placeName' : {\r\n        if(!inputElement.validity.valid) {\r\n          setIsNameError(true);\r\n          setNameError(inputElement.validationMessage);\r\n          \r\n        } else {\r\n          setIsNameError(false);\r\n          setNameError('');\r\n          \r\n        }\r\n        break;\r\n      }\r\n      case 'placeLink' : {\r\n        if(!inputElement.validity.valid) {\r\n          setIsLinkError(true);\r\n          setLinkError(inputElement.validationMessage);\r\n          \r\n        } else {\r\n          setIsLinkError(false);\r\n          setLinkError('');\r\n          \r\n        }\r\n        break;\r\n      }\r\n      default: {}\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n  }, [isOpen])\r\n\r\n  React.useEffect(() => {\r\n    setIsNameError(false);\r\n    setIsLinkError(false);\r\n    setIsSubmitValid(false);\r\n    setNameError('');\r\n    setLinkError('');\r\n  }, [isOpen])\r\n\r\n  React.useEffect(() => {\r\n    (!isNameError && !isLinkError && name && link) ? setIsSubmitValid(true) : setIsSubmitValid(false)\r\n  }, [isNameError, isLinkError, name, link])\r\n\r\n  return (\r\n    <PopupWithForm name=\"add\" title=\"Новое место\" isOpen={isOpen} isLoading={isLoading} isSubmitValid={isSubmitValid} onClose={onClose} onSubmit={handleAddPlaceSubmit} submitText=\"Создать\">\r\n      <input\r\n        className={nameInputClassName}\r\n        type=\"text\"\r\n        name=\"placeName\"\r\n        id=\"placeName\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        required\r\n        value={name}\r\n        onChange={handleChangeName}\r\n      />\r\n      <span className={nameErrorClassName} id=\"placeName-error\">{ isNameError && nameError }</span>\r\n      <input\r\n        className={linkInputClassName}\r\n        type=\"url\"\r\n        name=\"placeLink\"\r\n        id=\"placeLink\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        minLength=\"2\"\r\n        required\r\n        value={link}\r\n        onChange={handleChangeLink}\r\n      />\r\n      <span className={linkErrorClassName} id=\"placeLink-error\">{ isLinkError && linkError }</span>\r\n    </PopupWithForm>\r\n  )\r\n}","import PopupWithForm from './PopupWithForm'\r\n\r\nexport default function RemovePopup({ isOpen, isLoading, onClose, onCardDelete, card }) {\r\n\r\n  function handleCardDelete(e) {\r\n    e.preventDefault();\r\n\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"remove\" title=\"Вы уверены?\" isOpen={isOpen} isLoading={isLoading} onClose={onClose} onSubmit={handleCardDelete} submitText=\"Да\" isSubmitValid={true} />\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/fail-icon.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/success-icon.1b6082f8.svg\";","import fail from '../images/fail-icon.svg'\r\nimport success from '../images/success-icon.svg'\r\nimport { useLocation } from 'react-router-dom'\r\n\r\nfunction InfoTooltip(props) {\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <div className={`popup popup_type_info ${props.isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__overlay\" onClick={props.onClose}></div>\r\n      <div className=\"popup__container popup__container_type_info\">\r\n        <img className=\"popup__result\" src={props.result ? success : fail} alt=\"loginResult\" />\r\n        <h2 className=\"popup__title popup__title_type_info\">{props.result\r\n          ? (() => {\r\n            switch (location.pathname) {\r\n              case '/':\r\n                return 'Вы успешно вошли!'\r\n              \r\n              case '/sign-in':\r\n                return 'Вы успешно зарегистрировались!'\r\n\r\n              default:\r\n                return 'Успех!'\r\n            }\r\n          })()\r\n          : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n        </h2>\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;","import React from 'react'\r\nimport { Link, withRouter } from 'react-router-dom'\r\n\r\nfunction Register(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onRegister({email, password});\r\n    setEmail('');\r\n    setPassword('');\r\n  }\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <div className=\"auth__container\">\r\n        <h2 className=\"auth__title\">Регистрация</h2>\r\n        <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n          <input className=\"auth__input\" type=\"text\" id=\"registerLogin\" placeholder=\"Логин\" value={email} onChange={handleChangeEmail} required />\r\n          <input className=\"auth__input\" type=\"text\" id=\"registerPassword\" placeholder=\"Пароль\" value={password} onChange={handleChangePassword} required />\r\n          <button className=\"auth__submit-button\">Зарегистрироваться</button>\r\n        </form>\r\n        <Link to=\"/sign-in\" className=\"auth__login-link\">Уже зарегистрированы? Войти</Link>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withRouter(Register);","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nfunction Login(props) {\r\n\r\n  const [login, setLogin] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleLoginChange(e) {\r\n    setLogin(e.target.value);\r\n  }\r\n\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onLogin({login, password});\r\n    setLogin('');\r\n    setPassword('');\r\n  }\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <div className=\"auth__container\">\r\n        <h2 className=\"auth__title\">Вход</h2>\r\n        <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n          <input className=\"auth__input\" type=\"text\" id=\"loginLogin\" placeholder=\"Логин\" value={login} onChange={handleLoginChange} required />\r\n          <input className=\"auth__input\" type=\"text\" id=\"loginPassword\" placeholder=\"Пароль\" value={password} onChange={handlePasswordChange} required />\r\n          <button className=\"auth__submit-button\">Войти</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withRouter(Login);","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  )\r\n};\r\n\r\nexport default ProtectedRoute;","class Auth {\r\n  constructor({ baseUrl }) {\r\n    this._baseUrl = baseUrl;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n  register(data) {\r\n    return fetch(`${this._baseUrl}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        \"password\": data.password,\r\n        \"email\": data.email\r\n      })\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  login(data) {\r\n    return fetch(`${this._baseUrl}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        \"password\": data.password,\r\n        \"email\": data.login\r\n      })\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  getEmail(token) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\" : `Bearer ${token}`\r\n      }\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst auth = new Auth({\r\n  baseUrl: 'https://auth.nomoreparties.co'\r\n})\r\n\r\nexport default auth;","import React from 'react'\r\nimport Header from './Header'\r\nimport Footer from './Footer'\r\nimport Main from './Main'\r\nimport ImagePopup from './ImagePopup'\r\nimport api from '../utils/api'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport RemovePopup from './RemovePopup';\r\nimport InfoTooltip from './InfoTooltip'\r\nimport { Route, Switch, withRouter } from 'react-router-dom'\r\nimport Register from './Register'\r\nimport Login from './Login'\r\nimport ProtectedRoute from './ProtectedRoute'\r\nimport auth from '../utils/auth'\r\n\r\nfunction App(props) {\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n  // isOpen\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isRemovePopupOpen, setIsRemovePopupOpen] = React.useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\r\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\r\n\r\n  // isLoading\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [loginResult, setLoginResult] = React.useState(false);\r\n  const [email, setEmail] = React.useState('');\r\n\r\n  let isAnyPopupOpen = isRemovePopupOpen || isEditAvatarPopupOpen || isEditProfilePopupOpen || isImagePopupOpen || isAddPlacePopupOpen || isInfoTooltipOpen;\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    \r\n    api.changeLikeCardStatus(card._id, isLiked).then((newCard) => {\r\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n    })\r\n    .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    setIsLoading(true);\r\n    api.removeCard(card._id).then(() => {\r\n      setCards((cardList) => {\r\n        return cardList.filter((newCard) => newCard._id !== card._id)\r\n      })\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => console.log(err))\r\n    .finally(() => setIsLoading(false))\r\n  }\r\n\r\n  function handleRemovePopupClick(card) {\r\n    setIsRemovePopupOpen(true);\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true)\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true)\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setIsImagePopupOpen(true);\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsRemovePopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    setIsInfoTooltipOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    setIsLoading(true);\r\n    api.setProfileInfo(data).then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => console.log(err))\r\n    .finally(() => {\r\n      setIsLoading(false);\r\n    })\r\n  }\r\n\r\n  function handleUpdateAvatar({avatar}) {\r\n    setIsLoading(true);\r\n    api.changeAvatar(avatar).then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err)\r\n    })\r\n    .finally(() => {\r\n      setIsLoading(false);\r\n    })\r\n  }\r\n\r\n  function handleAddPlace(data) {\r\n    setIsLoading(true);\r\n    api.addPlace({\r\n      name: data.name,\r\n      link: data.link\r\n    }).then((newCard) => {\r\n      setCards([newCard, ...cards]);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => console.log(err))\r\n    .finally(() => {\r\n      setIsLoading(false);\r\n    })\r\n  }\r\n\r\n  function handleLogin({login, password}) {\r\n    auth.login({login, password})\r\n    .then((data) => {\r\n      if(data.token) {\r\n        handleAuth(data.token);\r\n      }\r\n    })\r\n    .catch(err => handleError(err));\r\n  }\r\n\r\n  function handleAuth(token) {\r\n    auth.getEmail(token)\r\n    .then((res) => {\r\n      localStorage.setItem('token', token);\r\n      setLoggedIn(true);\r\n      setLoginResult(true);\r\n      setIsInfoTooltipOpen(true);\r\n      setEmail(res.data.email);\r\n      props.history.push('/');\r\n    })\r\n    .catch(err => handleError(err))\r\n  }\r\n\r\n  function handleLogout() {\r\n    setLoggedIn(false);\r\n    localStorage.removeItem('token');\r\n  }\r\n\r\n  function handleRegister({email, password}) {\r\n    auth.register({email, password})\r\n    .then(() => {\r\n      setLoginResult(true);\r\n      setIsInfoTooltipOpen(true);\r\n      props.history.push('/sign-in');\r\n    })\r\n    .catch((err) => handleError(err))\r\n  }\r\n  \r\n  function handleError(error) {\r\n    setLoginResult(false);\r\n    setIsInfoTooltipOpen(true);\r\n    console.log(error);\r\n  }\r\n\r\n  function handleKeyDown(e) {\r\n    if(e.keyCode === 27) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function handleTokenCheck() {\r\n    if (localStorage.getItem('token')) {\r\n      const token = localStorage.getItem('token');\r\n      handleAuth(token);\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    handleTokenCheck();\r\n\r\n    api.getProfileInfo()\r\n    .then((data) => {\r\n      setCurrentUser(data)\r\n    })\r\n    .catch((err) => console.log(err))\r\n\r\n    api.getInitialCards()\r\n    .then((result) => {\r\n      setCards(result)\r\n    })\r\n    .catch((err) => console.log(err))\r\n  }, [])\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\" tabIndex=\"0\" onKeyDown={isAnyPopupOpen ? handleKeyDown : null}>\r\n        <div className=\"page__content\">\r\n          <Route path=\"/\">\r\n            <Header onLogout={handleLogout} email={email} />\r\n          </Route>\r\n\r\n          <Switch>\r\n            <Route path=\"/sign-up\">\r\n              <Register onRegister={handleRegister} />\r\n            </Route>\r\n            <Route path=\"/sign-in\">\r\n              <Login onLogin={handleLogin} />\r\n            </Route>\r\n            <ProtectedRoute\r\n              exact\r\n              path=\"/\"\r\n              component={Main}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onCardClick={handleCardClick}\r\n              cards={cards}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleRemovePopupClick}\r\n              loggedIn={loggedIn} \r\n            />\r\n          </Switch>\r\n\r\n          <Route exact path=\"/\">\r\n            <Footer />\r\n          </Route>\r\n\r\n          <InfoTooltip\r\n            isOpen={isInfoTooltipOpen}\r\n            onClose={closeAllPopups}\r\n            result={loginResult}\r\n          />\r\n\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            isLoading={isLoading}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            isLoading={isLoading}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlace}\r\n          />\r\n\r\n          <ImagePopup\r\n            isOpen={isImagePopupOpen}\r\n            card={selectedCard}\r\n            onClose={closeAllPopups}\r\n          />\r\n\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            isLoading={isLoading}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n          \r\n          <RemovePopup\r\n            card={selectedCard}\r\n            onClose={closeAllPopups}\r\n            isOpen={isRemovePopupOpen}\r\n            isLoading={isLoading}\r\n            onCardDelete={handleCardDelete}\r\n          />\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}