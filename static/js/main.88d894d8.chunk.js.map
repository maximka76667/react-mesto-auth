{"version":3,"sources":["images/close-icon.svg","components/Header.js","images/menu-icon.png","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/RemovePopup.js","images/fail-icon.svg","images/success-icon.svg","components/InfoTooltip.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","location","useLocation","React","useState","isMenuOpen","setIsMenuOpen","isMenuAllowed","setIsMenuAllowed","toggleMenu","checkResize","window","innerWidth","handleLogoutClick","onLogout","useEffect","addEventListener","className","email","to","onClick","pathname","src","close","alt","Footer","currentYear","Date","getFullYear","CurrentUserContext","createContext","Card","card","onCardLike","onCardDelete","currentUser","useContext","isOwner","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","link","name","type","length","Main","cards","onEditAvatar","avatar","onEditProfile","about","onAddPlace","map","onCardClick","ImagePopup","isOpen","onClose","api","baseUrl","authorization","this","_baseUrl","_token","res","ok","json","Promise","reject","status","fetch","headers","then","_checkResponse","data","method","body","JSON","stringify","cardId","avatarLink","PopupWithForm","isLoading","title","onSubmit","submitText","children","isSubmitValid","buttonClassName","noValidate","disabled","EditProfilePopup","onUpdateUser","setName","description","setDescription","nameError","setNameError","descriptionError","setDescriptionError","isNameError","setIsNameError","isDescriptionError","setIsDescriptionError","setIsSubmitValid","nameInputClassName","descriptionInputClassName","nameErrorClassName","descriptionErrorClassName","handleValidation","e","inputElement","target","validity","valid","validationMessage","preventDefault","id","placeholder","minLength","maxLength","required","value","onChange","EditAvatarPopup","onUpdateAvatar","setAvatar","error","setError","isError","setIsError","inputClassName","errorClassName","AddPlacePopup","setLink","linkError","setLinkError","isLinkError","setIsLinkError","linkInputClassName","linkErrorClassName","RemovePopup","InfoTooltip","result","success","fail","withRouter","setEmail","password","setPassword","onRegister","login","setLogin","onLogin","ProtectedRoute","Component","component","loggedIn","auth","token","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isRemovePopupOpen","setIsRemovePopupOpen","isImagePopupOpen","setIsImagePopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","setIsLoading","setCards","selectedCard","setSelectedCard","setLoggedIn","loginResult","setLoginResult","isAnyPopupOpen","closeAllPopups","handleAuth","getEmail","localStorage","setItem","history","push","catch","err","handleError","console","log","getItem","getProfileInfo","getInitialCards","Provider","tabIndex","onKeyDown","keyCode","path","removeItem","register","exact","changeLikeCardStatus","newCard","state","c","setProfileInfo","finally","addPlace","changeAvatar","removeCard","cardList","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.88d894d8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/close-icon.039f1f52.svg\";","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useLocation } from 'react-router-dom'\r\nimport menu from '../images/menu-icon.png'\r\nimport close from '../images/close-icon.svg'\r\n\r\nfunction Header(props) {\r\n  const location = useLocation();\r\n\r\n  const [isMenuOpen, setIsMenuOpen] = React.useState(false);\r\n  const [isMenuAllowed, setIsMenuAllowed] = React.useState(false);\r\n\r\n  function toggleMenu() {\r\n    setIsMenuOpen(!isMenuOpen);\r\n  }\r\n\r\n  function checkResize() {\r\n    if (window.innerWidth < 500) {\r\n      setIsMenuAllowed(true);\r\n    } else {\r\n      setIsMenuAllowed(false);\r\n      setIsMenuOpen(false);\r\n    }\r\n  }\r\n\r\n  function handleLogoutClick() {\r\n    setIsMenuOpen(false);\r\n    props.onLogout();\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    window.addEventListener(\"resize\", checkResize);\r\n    checkResize();\r\n  }, [])\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className={`header__menu ${isMenuOpen ? 'header__menu_opened' : ''}`}>\r\n        <p className=\"header__login\">{props.email}</p>\r\n        <Link to=\"/sign-in\" className=\"header__link header__link_logged-in\" onClick={handleLogoutClick}>Logout</Link>\r\n      </div>\r\n      <div className=\"header__container\">\r\n        <Link to=\"/\" className=\"logo\"></Link>\r\n        {(() => {\r\n          switch (location.pathname) {\r\n            case '/sign-in':\r\n              return <Link to=\"/sign-up\" className=\"header__link\">Sign up</Link>\r\n\r\n            case '/sign-up':\r\n              return <Link to=\"/sign-in\" className=\"header__link\">Sign in</Link>\r\n\r\n            case '/':\r\n              return (\r\n                <>\r\n                  <p className={`header__login ${isMenuAllowed ? 'header__login_hidden' : ''}`}>{props.email}</p>\r\n                  <Link to=\"/sign-in\" className={`header__link header__link_logged-in ${isMenuAllowed ? 'header__link_hidden' : ''}`} onClick={handleLogoutClick}>Logout</Link>\r\n                  <button className=\"header__menu-button\" onClick={toggleMenu}>\r\n                    <img src={isMenuOpen ? close : menu} alt=\"Menu\" />\r\n                  </button>\r\n                </>\r\n              )\r\n\r\n            default:\r\n              return <Link to=\"/\" className=\"header__link\">Link</Link>\r\n          }\r\n        })()\r\n        }\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAVCAYAAABc6S4mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAqSURBVHgB7dMxEQAACMPAFv+eAQcMXLe8gUxxLwWVwuIB4M+MBuQx2mkAhA8MBFFMCNUAAAAASUVORK5CYII=\"","export default function Footer() {\r\n  const currentYear = new Date().getFullYear();\r\n\r\n  return (\r\n    <footer className=\"footer\">\r\n      <div className=\"footer__container\">\r\n        <p className=\"footer__copyright\">Â© {currentYear}. Maxim Grivennyy</p>\r\n      </div>\r\n    </footer>\r\n  )\r\n}","import React from 'react'\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from 'react'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\nexport default function Card({ card, onClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwner = card.owner._id === currentUser._id;\r\n\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `card__like-button ${isLiked ? 'card__like-button_active' : 'card__like-button_disabled'}`\r\n  );\r\n\r\n  function handleClick() {\r\n    onClick(card)\r\n  }\r\n\r\n  function handleCardLike() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"card\">\r\n      <div className=\"card__image-container\">\r\n        <img src={card.link} alt={card.name} className=\"card__image\" onClick={handleClick} />\r\n      </div>\r\n      {isOwner ? <button className='card__delete-button' onClick={handleCardDelete}></button> : null}\r\n      <div className=\"card__info\">\r\n        <h2 className=\"card__title\">{card.name}</h2>\r\n        <div className=\"card__like\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleCardLike} ></button>\r\n          <p className=\"card__likes-count\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  )\r\n}","import React from 'react'\r\nimport Card from './Card'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\nexport default function Main(props) {\r\n\r\n  const cards = props.cards;\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <div className=\"profile\">\r\n        <div className=\"profile__container\">\r\n          <div className=\"profile__avatar\" onClick={props.onEditAvatar}>\r\n            <img\r\n              src={currentUser.avatar}\r\n              className=\"profile__avatar-image\"\r\n              alt=\"Profile avatar\"\r\n            />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button>\r\n            <p className=\"profile__description\">{currentUser.about}</p>\r\n          </div>\r\n          <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\r\n        </div>\r\n      </div>\r\n      <div className=\"cards\">\r\n        <div className=\"cards__container\">\r\n          {\r\n            cards.map((card) => {\r\n              return (\r\n                <Card\r\n                  key={card._id}\r\n                  card={card}\r\n                  onClick={props.onCardClick}\r\n                  onCardLike={props.onCardLike}\r\n                  onCardDelete={props.onCardDelete}\r\n                />\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n    </main>\r\n  )\r\n}","export default function ImagePopup({ card, isOpen, onClose }) {\r\n  return(\r\n    <div className={`popup popup_type_image ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__overlay popup__overlay_type_image\" onClick={onClose}></div>\r\n      <div className=\"popup__container popup__container_type_image\">\r\n        <img src={card?.link} alt={card?.name} className=\"popup__image\" />\r\n        <h2 className=\"popup__title popup__title_type_image\">{card ? card.name : ''}</h2>\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}","class Api {\r\n  constructor({ baseUrl, authorization }) {\r\n    this._baseUrl = baseUrl;\r\n    this._token = authorization;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Error ${res.status}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  setProfileInfo(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  getProfileInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json',\r\n      },\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  addPlace(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  removeCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: isLiked ? 'DELETE' : 'PUT',\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  changeAvatar(avatarLink) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatarLink,\r\n      }),\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-22',\r\n  authorization: '6e0d021d-4f3f-452d-8c82-5a27e9592d29'\r\n});\r\n\r\nexport default api;","import React from 'react'\r\n\r\nexport default function PopupWithForm({ isOpen, isLoading, name, title, onSubmit, submitText, onClose, children, isSubmitValid }) {\r\n  const buttonClassName = (\r\n    `popup__submit-button ${!isSubmitValid ? 'popup__submit-button_disabled' : ''}`\r\n  );\r\n\r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__overlay popup__overlay_type_remove\" onClick={onClose}></div>\r\n      <div className=\"popup__container popup__container_type_remove\">\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit} noValidate>\r\n          {children}\r\n          <button className={buttonClassName} type=\"submit\" disabled={!isSubmitValid}>{isLoading ? 'Loading...' : submitText}</button>\r\n        </form>\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nexport default function EditProfilePopup({ isOpen, isLoading, onClose, onUpdateUser }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  // Validation Constants\r\n  const [nameError, setNameError] = React.useState('');\r\n  const [descriptionError, setDescriptionError] = React.useState('');\r\n  const [isNameError, setIsNameError] = React.useState(false);\r\n  const [isDescriptionError, setIsDescriptionError] = React.useState(false);\r\n  const [isSubmitValid, setIsSubmitValid] = React.useState(false);\r\n\r\n  // ClassNames\r\n  const nameInputClassName = (\r\n    `popup__input ${isNameError ? 'popup__input_type_error' : ''}`\r\n  );\r\n\r\n  const descriptionInputClassName = (\r\n    `popup__input ${isDescriptionError ? 'popup__input_type_error' : ''}`\r\n  );\r\n\r\n  const nameErrorClassName = (\r\n    `popup__error ${isNameError ? 'popup__error_visible' : ''}`\r\n  );\r\n\r\n  const descriptionErrorClassName = (\r\n    `popup__error ${isDescriptionError ? 'popup__error_visible' : ''}`\r\n  );\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  function handleValidation(e) {\r\n    const inputElement = e.target;\r\n\r\n    switch (inputElement.name) {\r\n      case 'profileName': {\r\n        if (!inputElement.validity.valid) {\r\n          setIsNameError(true);\r\n          setNameError(inputElement.validationMessage);\r\n          setIsSubmitValid(false);\r\n        } else {\r\n          setIsNameError(false);\r\n          setNameError('');\r\n          setIsSubmitValid(true);\r\n        }\r\n        break;\r\n      }\r\n      case 'profilePosition': {\r\n        if (!inputElement.validity.valid) {\r\n          setIsDescriptionError(true);\r\n          setDescriptionError(inputElement.validationMessage);\r\n          setIsSubmitValid(false);\r\n        } else {\r\n          setIsDescriptionError(false);\r\n          setDescriptionError('');\r\n          setIsSubmitValid(true);\r\n        }\r\n        break;\r\n      }\r\n      default: { }\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [isOpen, currentUser]);\r\n\r\n  React.useEffect(() => {\r\n    setIsNameError(false);\r\n    setIsDescriptionError(false);\r\n    setIsSubmitValid(true);\r\n    setNameError('');\r\n    setDescriptionError('');\r\n  }, [isOpen])\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit\" title=\"Edit profile\" submitText=\"Save\" isOpen={isOpen} isLoading={isLoading} isSubmitValid={isSubmitValid} onClose={onClose} onSubmit={handleSubmit} >\r\n      <input\r\n        className={nameInputClassName}\r\n        type=\"text\"\r\n        name=\"profileName\"\r\n        id=\"profileName\"\r\n        placeholder=\"Your name\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        required\r\n        value={`${name}`}\r\n        onChange={handleChangeName}\r\n      />\r\n      <span className={nameErrorClassName}>{isNameError && nameError}</span>\r\n      <input\r\n        className={descriptionInputClassName}\r\n        type=\"text\"\r\n        name=\"profilePosition\"\r\n        id=\"profilePosition\"\r\n        placeholder=\"Your position\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        required\r\n        value={`${description}`}\r\n        onChange={handleChangeDescription}\r\n      />\r\n      <span className={descriptionErrorClassName}>{isDescriptionError && descriptionError}</span>\r\n    </PopupWithForm>\r\n  )\r\n}","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nexport default function EditAvatarPopup({ isOpen, isLoading, onClose, onUpdateAvatar }) {\r\n\r\n  const [avatar, setAvatar] = React.useState('');\r\n\r\n  // Validation Constants\r\n  const [error, setError] = React.useState('');\r\n  const [isError, setIsError] = React.useState(false);\r\n  const [isSubmitValid, setIsSubmitValid] = React.useState(false);\r\n\r\n  const inputClassName = (\r\n    `popup__input ${isError ? 'popup__input_type_error' : ''}`\r\n  );\r\n\r\n  const errorClassName = (\r\n    `popup__error ${isError ? 'popup__error_visible' : ''}`\r\n  );\r\n\r\n  function handleUpdateAvatar(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatar\r\n    });\r\n  }\r\n\r\n  function handleChangeAvatar(e) {\r\n    setAvatar(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleValidation(e) {\r\n    const inputElement = e.target;\r\n\r\n    if (!inputElement.validity.valid) {\r\n      setIsError(true);\r\n      setError(inputElement.validationMessage);\r\n      setIsSubmitValid(false);\r\n    } else {\r\n      setIsError(false);\r\n      setError('');\r\n      setIsSubmitValid(true);\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setIsError(false);\r\n    setIsSubmitValid(false);\r\n    setError('');\r\n    setAvatar('');\r\n  }, [isOpen])\r\n\r\n  return (\r\n    <PopupWithForm name=\"avatar\" title=\"Update avatar\" isOpen={isOpen} isLoading={isLoading} isSubmitValid={isSubmitValid} onClose={onClose} onSubmit={handleUpdateAvatar} submitText=\"Save\">\r\n      <input\r\n        className={inputClassName}\r\n        type=\"url\"\r\n        name=\"avatarLink\"\r\n        id=\"avatarLink\"\r\n        placeholder=\"Image link\"\r\n        minLength=\"2\"\r\n        required\r\n        onChange={handleChangeAvatar}\r\n        value={avatar}\r\n      />\r\n      <span className={errorClassName} id=\"avatarLink-error\">{isError ? error : ''}</span>\r\n    </PopupWithForm>\r\n  )\r\n}","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nexport default function AddPlacePopup({ isOpen, isLoading, onClose, onAddPlace }) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  // Validation Constants\r\n  const [nameError, setNameError] = React.useState('');\r\n  const [linkError, setLinkError] = React.useState('');\r\n  const [isNameError, setIsNameError] = React.useState(false);\r\n  const [isLinkError, setIsLinkError] = React.useState(false);\r\n  const [isSubmitValid, setIsSubmitValid] = React.useState(false);\r\n\r\n  // ClassNames\r\n  const nameInputClassName = (\r\n    `popup__input ${isNameError ? 'popup__input_type_error' : ''}`\r\n  );\r\n\r\n  const linkInputClassName = (\r\n    `popup__input ${isLinkError ? 'popup__input_type_error' : ''}`\r\n  );\r\n\r\n  const nameErrorClassName = (\r\n    `popup__error ${isNameError ? 'popup__error_visible' : ''}`\r\n  );\r\n\r\n  const linkErrorClassName = (\r\n    `popup__error ${isLinkError ? 'popup__error_visible' : ''}`\r\n  );\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleAddPlaceSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onAddPlace({\r\n      name,\r\n      link\r\n    })\r\n  }\r\n\r\n  function handleValidation(e) {\r\n    const inputElement = e.target;\r\n\r\n    switch (inputElement.name) {\r\n      case 'placeName': {\r\n        if (!inputElement.validity.valid) {\r\n          setIsNameError(true);\r\n          setNameError(inputElement.validationMessage);\r\n\r\n        } else {\r\n          setIsNameError(false);\r\n          setNameError('');\r\n\r\n        }\r\n        break;\r\n      }\r\n      case 'placeLink': {\r\n        if (!inputElement.validity.valid) {\r\n          setIsLinkError(true);\r\n          setLinkError(inputElement.validationMessage);\r\n\r\n        } else {\r\n          setIsLinkError(false);\r\n          setLinkError('');\r\n\r\n        }\r\n        break;\r\n      }\r\n      default: { }\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n  }, [isOpen])\r\n\r\n  React.useEffect(() => {\r\n    setIsNameError(false);\r\n    setIsLinkError(false);\r\n    setIsSubmitValid(false);\r\n    setNameError('');\r\n    setLinkError('');\r\n  }, [isOpen])\r\n\r\n  React.useEffect(() => {\r\n    (!isNameError && !isLinkError && name && link) ? setIsSubmitValid(true) : setIsSubmitValid(false)\r\n  }, [isNameError, isLinkError, name, link])\r\n\r\n  return (\r\n    <PopupWithForm name=\"add\" title=\"New place\" isOpen={isOpen} isLoading={isLoading} isSubmitValid={isSubmitValid} onClose={onClose} onSubmit={handleAddPlaceSubmit} submitText=\"Post\">\r\n      <input\r\n        className={nameInputClassName}\r\n        type=\"text\"\r\n        name=\"placeName\"\r\n        id=\"placeName\"\r\n        placeholder=\"Name\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        required\r\n        value={name}\r\n        onChange={handleChangeName}\r\n      />\r\n      <span className={nameErrorClassName} id=\"placeName-error\">{isNameError && nameError}</span>\r\n      <input\r\n        className={linkInputClassName}\r\n        type=\"url\"\r\n        name=\"placeLink\"\r\n        id=\"placeLink\"\r\n        placeholder=\"Image link\"\r\n        minLength=\"2\"\r\n        required\r\n        value={link}\r\n        onChange={handleChangeLink}\r\n      />\r\n      <span className={linkErrorClassName} id=\"placeLink-error\">{isLinkError && linkError}</span>\r\n    </PopupWithForm>\r\n  )\r\n}","import PopupWithForm from './PopupWithForm'\r\n\r\nexport default function RemovePopup({ isOpen, isLoading, onClose, onCardDelete, card }) {\r\n\r\n  function handleCardDelete(e) {\r\n    e.preventDefault();\r\n\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"remove\" title=\"Are you sure?\" isOpen={isOpen} isLoading={isLoading} onClose={onClose} onSubmit={handleCardDelete} submitText=\"Yep\" isSubmitValid={true} />\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/fail-icon.d4ce2a26.svg\";","export default __webpack_public_path__ + \"static/media/success-icon.a9eb6caf.svg\";","import fail from '../images/fail-icon.svg'\r\nimport success from '../images/success-icon.svg'\r\nimport { useLocation } from 'react-router-dom'\r\n\r\nfunction InfoTooltip(props) {\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <div className={`popup popup_type_info ${props.isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__overlay\" onClick={props.onClose}></div>\r\n      <div className=\"popup__container popup__container_type_info\">\r\n        <img className=\"popup__result\" src={props.result ? success : fail} alt=\"loginResult\" />\r\n        <h2 className=\"popup__title popup__title_type_info\">{props.result\r\n          ? (() => {\r\n            switch (location.pathname) {\r\n              case '/':\r\n                return 'You have successfully logged into your account!'\r\n\r\n              case '/sign-in':\r\n                return 'You have successfully registered an account!'\r\n\r\n              default:\r\n                return 'Success!'\r\n            }\r\n          })()\r\n          : 'Something went wrong! Try again.'}\r\n        </h2>\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;","import React from 'react'\r\nimport { Link, withRouter } from 'react-router-dom'\r\n\r\nfunction Register(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onRegister({ email, password });\r\n    setEmail('');\r\n    setPassword('');\r\n  }\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <div className=\"auth__container\">\r\n        <h2 className=\"auth__title\">Registration</h2>\r\n        <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n          <input className=\"auth__input\" type=\"text\" id=\"registerEmail\" placeholder=\"Email\" value={email} onChange={handleChangeEmail} required />\r\n          <input className=\"auth__input\" type=\"text\" id=\"registerPassword\" placeholder=\"Password\" value={password} onChange={handleChangePassword} required />\r\n          <button className=\"auth__submit-button\">Register</button>\r\n        </form>\r\n        <Link to=\"/sign-in\" className=\"auth__login-link\">Already registered? Sign in</Link>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withRouter(Register);","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nfunction Login(props) {\r\n\r\n  const [login, setLogin] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleLoginChange(e) {\r\n    setLogin(e.target.value);\r\n  }\r\n\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onLogin({ login, password });\r\n    setLogin('');\r\n    setPassword('');\r\n  }\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <div className=\"auth__container\">\r\n        <h2 className=\"auth__title\">Sign in</h2>\r\n        <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n          <input className=\"auth__input\" type=\"text\" id=\"loginLogin\" placeholder=\"Login\" value={login} onChange={handleLoginChange} required />\r\n          <input className=\"auth__input\" type=\"text\" id=\"loginPassword\" placeholder=\"Password\" value={password} onChange={handlePasswordChange} required />\r\n          <button className=\"auth__submit-button\">Let's go</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withRouter(Login);","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  )\r\n};\r\n\r\nexport default ProtectedRoute;","class Auth {\r\n  constructor({ baseUrl }) {\r\n    this._baseUrl = baseUrl;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Error ${res.status}`);\r\n  }\r\n\r\n  register(data) {\r\n    return fetch(`${this._baseUrl}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        \"password\": data.password,\r\n        \"email\": data.email\r\n      })\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  login(data) {\r\n    return fetch(`${this._baseUrl}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        \"password\": data.password,\r\n        \"email\": data.login\r\n      })\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  getEmail(token) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\" : `Bearer ${token}`\r\n      }\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst auth = new Auth({\r\n  baseUrl: 'https://auth.nomoreparties.co'\r\n})\r\n\r\nexport default auth;","import React from 'react'\r\nimport Header from './Header'\r\nimport Footer from './Footer'\r\nimport Main from './Main'\r\nimport ImagePopup from './ImagePopup'\r\nimport api from '../utils/api'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport RemovePopup from './RemovePopup';\r\nimport InfoTooltip from './InfoTooltip'\r\nimport { Route, Switch, withRouter } from 'react-router-dom'\r\nimport Register from './Register'\r\nimport Login from './Login'\r\nimport ProtectedRoute from './ProtectedRoute'\r\nimport auth from '../utils/auth'\r\n\r\nfunction App(props) {\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n  // isOpen\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isRemovePopupOpen, setIsRemovePopupOpen] = React.useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\r\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\r\n\r\n  // isLoading\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [loginResult, setLoginResult] = React.useState(false);\r\n  const [email, setEmail] = React.useState('');\r\n\r\n  let isAnyPopupOpen = isRemovePopupOpen || isEditAvatarPopupOpen || isEditProfilePopupOpen || isImagePopupOpen || isAddPlacePopupOpen || isInfoTooltipOpen;\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    api.changeLikeCardStatus(card._id, isLiked).then((newCard) => {\r\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n    })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    setIsLoading(true);\r\n    api.removeCard(card._id).then(() => {\r\n      setCards((cardList) => {\r\n        return cardList.filter((newCard) => newCard._id !== card._id)\r\n      })\r\n      closeAllPopups();\r\n    })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setIsLoading(false))\r\n  }\r\n\r\n  function handleRemovePopupClick(card) {\r\n    setIsRemovePopupOpen(true);\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true)\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true)\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setIsImagePopupOpen(true);\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsRemovePopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    setIsInfoTooltipOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    setIsLoading(true);\r\n    api.setProfileInfo(data).then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups();\r\n    })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      })\r\n  }\r\n\r\n  function handleUpdateAvatar({ avatar }) {\r\n    setIsLoading(true);\r\n    api.changeAvatar(avatar).then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups();\r\n    })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      })\r\n  }\r\n\r\n  function handleAddPlace(data) {\r\n    setIsLoading(true);\r\n    api.addPlace({\r\n      name: data.name,\r\n      link: data.link\r\n    }).then((newCard) => {\r\n      setCards([newCard, ...cards]);\r\n      closeAllPopups();\r\n    })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      })\r\n  }\r\n\r\n  function handleLogin({ login, password }) {\r\n    auth.login({ login, password })\r\n      .then((data) => {\r\n        if (data.token) {\r\n          handleAuth(data.token);\r\n        }\r\n      })\r\n      .catch(err => handleError(err));\r\n  }\r\n\r\n  function handleAuth(token) {\r\n    auth.getEmail(token)\r\n      .then((res) => {\r\n        localStorage.setItem('token', token);\r\n        setLoggedIn(true);\r\n        setLoginResult(true);\r\n        setIsInfoTooltipOpen(true);\r\n        setEmail(res.data.email);\r\n        props.history.push('/');\r\n      })\r\n      .catch(err => handleError(err))\r\n  }\r\n\r\n  function handleLogout() {\r\n    setLoggedIn(false);\r\n    localStorage.removeItem('token');\r\n  }\r\n\r\n  function handleRegister({ email, password }) {\r\n    auth.register({ email, password })\r\n      .then(() => {\r\n        setLoginResult(true);\r\n        setIsInfoTooltipOpen(true);\r\n        props.history.push('/sign-in');\r\n      })\r\n      .catch((err) => handleError(err))\r\n  }\r\n\r\n  function handleError(error) {\r\n    setLoginResult(false);\r\n    setIsInfoTooltipOpen(true);\r\n    console.log(error);\r\n  }\r\n\r\n  function handleKeyDown(e) {\r\n    if (e.keyCode === 27) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function handleTokenCheck() {\r\n    if (localStorage.getItem('token')) {\r\n      const token = localStorage.getItem('token');\r\n      handleAuth(token);\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    handleTokenCheck();\r\n\r\n    api.getProfileInfo()\r\n      .then((data) => {\r\n        setCurrentUser(data)\r\n      })\r\n      .catch((err) => console.log(err))\r\n\r\n    api.getInitialCards()\r\n      .then((result) => {\r\n        setCards(result)\r\n      })\r\n      .catch((err) => console.log(err))\r\n    // eslint-disable-next-line\r\n  }, [])\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\" tabIndex=\"0\" onKeyDown={isAnyPopupOpen ? handleKeyDown : null}>\r\n        <div className=\"page__content\">\r\n          <Route path=\"/\">\r\n            <Header onLogout={handleLogout} email={email} />\r\n          </Route>\r\n\r\n          <Switch>\r\n            <Route path=\"/sign-up\">\r\n              <Register onRegister={handleRegister} />\r\n            </Route>\r\n            <Route path=\"/sign-in\">\r\n              <Login onLogin={handleLogin} />\r\n            </Route>\r\n            <ProtectedRoute\r\n              exact\r\n              path=\"/\"\r\n              component={Main}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onCardClick={handleCardClick}\r\n              cards={cards}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleRemovePopupClick}\r\n              loggedIn={loggedIn}\r\n            />\r\n          </Switch>\r\n\r\n          <Route exact path=\"/\">\r\n            <Footer />\r\n          </Route>\r\n\r\n          <InfoTooltip\r\n            isOpen={isInfoTooltipOpen}\r\n            onClose={closeAllPopups}\r\n            result={loginResult}\r\n          />\r\n\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            isLoading={isLoading}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            isLoading={isLoading}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlace}\r\n          />\r\n\r\n          <ImagePopup\r\n            isOpen={isImagePopupOpen}\r\n            card={selectedCard}\r\n            onClose={closeAllPopups}\r\n          />\r\n\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            isLoading={isLoading}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n\r\n          <RemovePopup\r\n            card={selectedCard}\r\n            onClose={closeAllPopups}\r\n            isOpen={isRemovePopupOpen}\r\n            isLoading={isLoading}\r\n            onCardDelete={handleCardDelete}\r\n          />\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { HashRouter as Router } from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <App />\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}